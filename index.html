<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emoji Undo/Redo</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="emoji" style="top:10%; left:15%;">ğŸ˜</div>
  <div class="emoji" style="top:25%; left:70%;">ğŸš€</div>
  <div class="emoji" style="top:70%; left:30%;">ğŸ’»</div>
  <div class="emoji" style="top:60%; left:80%;">ğŸ”¥</div>
  <div class="emoji" style="top:40%; left:50%;">ğŸ‰</div>

  <div class="main">
    <div class="container">
      <h2>Undo / Redo </h2>
      <input type="text" id="textInput" placeholder="Type something..." />
      <br>
      <button id="undoBtn">Undo</button>
      <button id="redoBtn">Redo</button>
    </div>
    <div class="container">
      <div class="mini" id="box">
        <div id="undo-result"></div>
        <div id="redo-result"></div>
      </div>
    </div>
  </div>

  <script>
    const input = document.getElementById('textInput');
    const undoBtn = document.getElementById('undoBtn');
    const redoBtn = document.getElementById('redoBtn');
    const undo = document.getElementById('undo-result');
    const redo = document.getElementById('redo-result');
    const box = document.getElementById('box');


    let history = [];
    let redoStack = [];

    input.addEventListener('input', () => {
      history.push(input.value);
      undoFun()
      redoStack = [];
    });

    undoBtn.addEventListener('click', () => {
      if (history.length > 1) {
        redoStack.push(history.pop());
        input.value = history[history.length - 1] || '';
      } else {
        input.value = '';
      }
      undoFun()
      redoFun()
    });

    redoBtn.addEventListener('click', () => {
      if (redoStack.length > 0) {
        const value = redoStack.pop();
        history.push(value);
        input.value = value;
      }
      redoFun()
      undoFun()
    });
    function undoFun() {
      undo.innerHTML = ''
      history.forEach((element, index) => {
        let p = document.createElement('p')
        p.innerText = element
        if (index === history.length - 1) p.classList.add('active');
        undo.appendChild(p)
      });
    }
    function redoFun() {
      redo.innerHTML = ''
      redoStack.forEach((element, index) => {
        let p = document.createElement('p')
        p.innerText = element
        if (index === redoStack.length - 1) p.classList.add('active');
        redo.appendChild(p)
      });
    }
    box.addEventListener('click', (event) => {
      input.value = event.target.innerText
      history.push(event.target.innerText)
    })
  </script>
</body>

</html>